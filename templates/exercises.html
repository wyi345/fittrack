{% extends 'base.html' %}
{% load static %}
{% block title %}Exercises - FitTrack+{% endblock %}
{% block content %}
<div class="container py-3">
    <div class="d-flex align-items-center mb-4">
        <h2 class="text-white fw-bold me-auto">Exercise Library</h2>
    </div>
    <div class="row g-4">
        {% for item in items %}
        <div class="col-12 col-sm-6 col-lg-4">
            <div class="card bg-dark bg-opacity-75 text-white shadow h-100 exercise-card">
                <!-- YouTube Video Thumbnail with Play Button Overlay -->
                <div class="position-relative ratio ratio-16x9" style="cursor: pointer;" onclick="window.open('https://www.youtube.com/watch?v={{ item.youtube_id }}', '_blank')">
                    <img src="https://img.youtube.com/vi/{{ item.youtube_id }}/maxresdefault.jpg" 
                         alt="{{ item.name }} video thumbnail" 
                         class="w-100 h-100" 
                         style="object-fit: cover; border-radius: 0.375rem 0.375rem 0 0;">
                    <!-- Play Button Overlay -->
                    <div class="position-absolute top-50 start-50 translate-middle">
                        <div class="bg-danger rounded-circle d-flex align-items-center justify-content-center" 
                             style="width: 64px; height: 64px; opacity: 0.9;">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="white">
                                <path d="M8 5v14l11-7z"/>
                            </svg>
                        </div>
                    </div>
                    <!-- YouTube Badge -->
                    <div class="position-absolute top-0 end-0 m-2">
                        <span class="badge bg-danger">YouTube</span>
                    </div>
                </div>
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ item.name }}</h5>
                    <p class="card-text text-white-50 small">{{ item.desc }}</p>
                    <div class="mt-auto d-flex gap-2">
                        <a href="https://www.youtube.com/watch?v={{ item.youtube_id }}" 
                           target="_blank" 
                           class="btn btn-danger btn-sm flex-grow-1">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="display: inline-block; vertical-align: middle; margin-right: 4px;">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                            Watch Video
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
.exercise-card {
    transition: transform 0.2s, box-shadow 0.2s;
}

.exercise-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3) !important;
}

.exercise-card .ratio {
    overflow: hidden;
}

.exercise-card .ratio:hover img {
    transform: scale(1.05);
    transition: transform 0.3s;
}
</style>
{% endblock %}


